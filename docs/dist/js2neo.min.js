!function(){var d="1.0.0-alpha.0";function p(){}function v(o){var i=0;function t(n){var t=i;return i+=n,t}function e(n){for(var t="",e=i+n;i<e;i++)t+=String.fromCharCode(o.getUint8(i));return t}function r(n){for(var t=[],e=0;e<n;e++)t.push(a());return t}function s(n){for(var t={},e=0;e<n;e++){t[a()]=a()}return t}function a(){var n=o.getUint8(i++);return n<128?n:n<144?e(n-128):n<160?r(n-144):n<176?s(n-160):n<192?function(n){for(var t=o.getUint8(i++),e=[],r=0;r<n;r++)e.push(a());return new C(t,e)}(n-176):n<193?null:n<194?o.getFloat64(t(8)):n<196?!!(1&n):n<200?void 0:n<201?o.getInt8(t(1)):n<202?o.getInt16(t(2)):n<203?o.getInt32(t(4)):n<204?[o.getUint32(t(4)),o.getUint32(t(4))]:n<208?void 0:n<209?e(o.getUint8(i++)):n<210?e(o.getUint16(t(2))):n<211?e(o.getUint32(t(4))):n<212?void 0:n<213?r(o.getUint8(i++)):n<214?r(o.getUint16(t(2))):n<215?r(o.getUint32(t(4))):n<216?void 0:n<217?s(o.getUint8(i++)):n<218?s(o.getUint16(t(2))):n<219?s(o.getUint32(t(4))):n<240?void 0:n-256}return a()}function C(n,t){this.tag=n,this.fields=t||[]}function w(n){for(var t=new Uint8Array(n.length),e=0;e<n.length;e++)t[e]=n.charCodeAt(e);return t.buffer}function t(n){n=n||{};var e={secure:"https:"===document.location.protocol,host:n.host||"localhost",port:n.port||7687,user:n.user||"neo4j",userAgent:n.userAgent||"js2neo/"+d},t={scheme:"basic",principal:e.user,credentials:n.password||"password"},o=new Uint8Array(2),f={},c=[],g=[],r=n.onConnect||p;function i(){f.inData="",f.inChunks=[],f.ready=!1,f.socket=new WebSocket((e.secure?"wss":"ws")+"://"+e.host+":"+e.port),f.socket.binaryType="arraybuffer",f.socket.onmessage=u,f.socket.onerror=n.onError||p,f.socket.onclose=n.onClose||p,f.socket.onopen=function(){s(new Uint8Array([96,96,176,23,0,0,0,2,0,0,0,1,0,0,0,0,0,0,0,0]))},c.push([new C(1,[e.userAgent,t]),{112:function(){f.ready=!0},127:h}])}function s(n){f.socket.send(n)}function h(n){f.socket.close(1002,n.code+": "+n.message),i()}function a(){function n(n,t){o[0]=n,o[1]=t,s(o)}for(;0<c.length;){var t=c.shift(),e=(r=t[0],i=void 0,i="",function n(t){var e,r;if(null===t)i+="À";else if("string"==typeof t)(r=t.length)<16?i+=String.fromCharCode(128+r)+t:r<256?i+="Ð"+String.fromCharCode(r)+t:r<65536&&(i+="Ñ"+String.fromCharCode(r>>8)+String.fromCharCode(255&r)+t);else if(t instanceof C)for(i+=String.fromCharCode(176+t.fields.length,t.tag),e=0;e<t.fields.length;e++)n(t.fields[e]);else{var o=Object.getOwnPropertyNames(t);for(i+=String.fromCharCode(160+o.length),e=0;e<o.length;e++)n(o[e]),n(t[o[e]])}}(r),i);for(g.push(t[1]);32767<e.length;)n(127,255),s(w(e.substr(0,32767))),e=e.substr(32767);n(e.length>>8,255&e.length),s(w(e)),n(0,0)}var r,i}function u(n){var t=new DataView(n.data);e.protocolVersion=t.getInt32(0,!1),r(e),f.socket.onmessage=l,a()}function l(n){for(var t,e,r,o,i,s=!0,a=f.inData+=String.fromCharCode.apply(null,new Uint8Array(n.data)),u=f.inChunks;s;)t=2+(a.charCodeAt(0)<<8|a.charCodeAt(1)),a.length>=t?(""===(e=a.slice(2,t))?(r=w(u.join()),void 0,o=v(new DataView(r)),i=113===o.tag?g[0]:g.shift(),127===o.tag&&c.push([new C(14),{127:h}]),i&&(i[o.tag]||p)(o.fields[0]),u=f.inChunks=[]):u.push(e),a=f.inData=f.inData.substr(t)):s=!1}this.run=function(n){var t=n.cypher;0<t.length&&(c.push([new C(16,[t,n.parameters||{}]),{112:n.onHeader||p,127:n.onFailure||p}]),c.push([new C(63),{112:n.onFooter||p,113:n.onRecord||p,127:n.onFailure||p}])),f.ready&&a()},i()}window.js2neo={bolt:function(n){return new t(n)},version:d}}();