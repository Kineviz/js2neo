!function(){var d="1.0.0-alpha.0",h={78:function(n){this.id=n[1],this.labels=n[2],this.properties=n[3]},82:function(n){this.id=n[1],this.start=n[2],this.end=n[3],this.type=n[4],this.properties=n[5]}};function p(){}function v(n,t){var o=String.fromCharCode(176+t.length,n);function i(n){var t,e;if(null===n)o+="À";else if("string"==typeof n)(e=n.length)<16?o+=String.fromCharCode(128+e)+n:e<256?o+="Ð"+String.fromCharCode(e)+n:e<65536&&(o+="Ñ"+String.fromCharCode(e>>8)+String.fromCharCode(255&e)+n);else{var r=Object.getOwnPropertyNames(n);for(o+=String.fromCharCode(160+r.length),t=0;t<r.length;t++)i(r[t]),i(n[r[t]])}}for(var e=0;e<t.length;e++)i(t[e]);return o}function C(r){var o=0;function i(n){var t=o;return o+=n,t}function s(n){for(var t="",e=o+n;o<e;o++)t+=String.fromCharCode(r.getUint8(o));return t}function a(n){for(var t=[],e=0;e<n;e++)t.push(f());return t}function u(n){for(var t={},e=0;e<n;e++){t[f()]=f()}return t}function c(n){for(var t=[r.getUint8(o++)],e=0;e<n;e++)t.push(f());return t}function f(){var n,t,e=r.getUint8(o++);return e<128?e:e<144?s(e-128):e<160?a(e-144):e<176?u(e-160):e<192?(n=c(e-176),68===(t=n[0])?new Date(864e5*n[1]):new(h[t]||Object)(n)):e<193?null:e<194?r.getFloat64(i(8)):e<196?!!(1&e):e<200?void 0:e<201?r.getInt8(i(1)):e<202?r.getInt16(i(2)):e<203?r.getInt32(i(4)):e<204?[r.getUint32(i(4)),r.getUint32(i(4))]:e<208?void 0:e<209?s(r.getUint8(o++)):e<210?s(r.getUint16(i(2))):e<211?s(r.getUint32(i(4))):e<212?void 0:e<213?a(r.getUint8(o++)):e<214?a(r.getUint16(i(2))):e<215?a(r.getUint32(i(4))):e<216?void 0:e<217?u(r.getUint8(o++)):e<218?u(r.getUint16(i(2))):e<219?u(r.getUint32(i(4))):e<240?void 0:e-256}return c(r.getUint8(o++)-176)}function w(n){for(var t=new Uint8Array(n.length),e=0;e<n.length;e++)t[e]=n.charCodeAt(e);return t.buffer}function t(n){n=n||{};var e={secure:"https:"===document.location.protocol,host:n.host||"localhost",port:n.port||7687,user:n.user||"neo4j",userAgent:n.userAgent||"js2neo/"+d},t={scheme:"basic",principal:e.user,credentials:n.password||"password"},r=new Uint8Array(2),c={},f=[],h=[],o=n.onConnect||p;function i(){c.inData="",c.inChunks=[],c.ready=!1,c.socket=new WebSocket((e.secure?"wss":"ws")+"://"+e.host+":"+e.port),c.socket.binaryType="arraybuffer",c.socket.onmessage=u,c.socket.onerror=n.onError||p,c.socket.onclose=n.onClose||p,c.socket.onopen=function(){s(new Uint8Array([96,96,176,23,0,0,0,2,0,0,0,1,0,0,0,0,0,0,0,0]))},f.push([1,[e.userAgent,t],{112:function(){c.ready=!0},127:g}])}function s(n){c.socket.send(n)}function g(n){c.socket.close(1002,n.code+": "+n.message),i()}function a(){function n(n,t){r[0]=n,r[1]=t,s(r)}for(;0<f.length;){var t=f.shift(),e=v(t[0],t[1]);for(h.push(t[2]);32767<e.length;)n(127,255),s(w(e.substr(0,32767))),e=e.substr(32767);n(e.length>>8,255&e.length),s(w(e)),n(0,0)}}function u(n){var t=new DataView(n.data);e.protocolVersion=t.getInt32(0,!1),o(e),c.socket.onmessage=l,a()}function l(n){for(var t,e,r,o,i,s=!0,a=c.inData+=String.fromCharCode.apply(null,new Uint8Array(n.data)),u=c.inChunks;s;)t=2+(a.charCodeAt(0)<<8|a.charCodeAt(1)),a.length>=t?(""===(e=a.slice(2,t))?(r=w(u.join()),void 0,o=C(new DataView(r)),i=113===o[0]?h[0]:h.shift(),127===o[0]&&f.push([14,[],{127:g}]),i&&(i[o[0]]||p)(o[1]),u=c.inChunks=[]):u.push(e),a=c.inData=c.inData.substr(t)):s=!1}this.run=function(n){var t=n.cypher;0<t.length&&(f.push([16,[t,n.parameters||{}],{112:n.onHeader||p,127:n.onFailure||p}]),f.push([63,[],{112:n.onFooter||p,113:n.onRecord||p,127:n.onFailure||p}])),c.ready&&a()},i()}for(var n in window.js2neo={bolt:function(n){return new t(n)},version:d},h)if(h.hasOwnProperty(n)){var e=h[n];window.js2neo[e.name]=e}}();